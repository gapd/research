<?xml version="1.0"?><st-source><!-- Name: ScrollWheelEventsFor7-7VMsNotice: Copyright © 2010-1999 Cincom Systems, Inc.  All Rights Reserved.Comment: AR 57020: "Undo MouseWheelEvent handling hacks when VMs are fixed"AR 58125: "Provide Backwards Compat patch for 7.6 images to interface correctly with 7.7 mouse scroll wheel coordinates"DbIdentifier: bear73DbTrace: 287655PackageName: ScrollWheelEventsFor7-7VMsParcel: #('ScrollWheelEventsFor7-7VMs')ParcelName: ScrollWheelEventsFor7-7VMsPrintStringCache: (7.7.1 - 1,trobinson)Version: 7.7.1 - 1Date: 9:40:57 AM June 4, 2010 --><time-stamp>From VisualWorks®, Pre-Release 7.7.1 (jun10.2) of June 4, 2010 on June 4, 2010 at 9:40:57 AM</time-stamp><do-it>(Dialog confirm: 'You are filing-in a Parcel source file!\\While this is possible it will not have\the same effect as loading the parcel.\None of the Parcel''s prerequisites will\be loaded and none of its load actions\will be performed.\\Are you sure you want to file-in?' withCRs) ifFalse: [self error: 'Parcel file-in abandoned.  Choose terminate or close.']</do-it><methods><class-id>UI.InputState</class-id> <category>private</category><body package="ScrollWheelEventsFor7-7VMs" selector="translatedButtonPress:for:">translatedButtonPress: event for: window	"X11 issues scroll up/down events as button press events, rather than distinct type 17's. We note if that's the case and reissue if so."	"AR 58125: Provide Backwards Compat patch for 7.6 images to interface correctly with 7.7 mouse scroll wheel coordinates"	| button |	Screen default platformName = 'X11' ifFalse: [^false].	button := event at: 7.	(button between: 4 and: 5) ifFalse: [^false].	event at: 1 put: 17.	button = 4 ifTrue: [event at: 8 put: (event at: 8) - 2048].	self send: window eventMouseWheel: event.	^true</body></methods><methods><class-id>UI.MouseWheelEvent</class-id> <category>accessing</category><body package="ScrollWheelEventsFor7-7VMs" selector="globalPoint">globalPoint	"To make the mouse wheel events compatible with 7.7 VMs, override the method to return the same as superclass."	"AR 58125: Provide Backwards Compat patch for 7.6 images to interface correctly with 7.7 mouse scroll wheel coordinates"	^super globalPoint</body></methods><do-it>"Imported Classes:"</do-it><do-it>self error: 'Attempting to file-in parcel imports.  Choose terminate or close'</do-it><class><name>InputState</name><environment>UI</environment><super>Core.Object</super><private>false</private><indexed-type>none</indexed-type><inst-vars>x y bitState shiftState ctrlState commandKeyState metaState metaKeyState altKeyState lastClick eventDispatcher lastDownPoint lastUpPoint lastUpButton lastWindow </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>OS-Window System</category><attributes><package>OS-Window System</package></attributes></class><class><name>MouseWheelEvent</name><environment>UI</environment><super>UI.MouseEvent</super><private>false</private><indexed-type>none</indexed-type><inst-vars>up </inst-vars><class-inst-vars></class-inst-vars><imports></imports><category>Interface-Events</category><attributes><package>Interface-Events</package></attributes></class></st-source>